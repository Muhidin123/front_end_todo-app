(this.webpackJsonpfront_end_todo=this.webpackJsonpfront_end_todo||[]).push([[0],{311:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),o=n.n(a),i=n(33),s=n.n(i),c=n(15),l=n(16),d=n(20),u=n(19),h=n(35),j=n(10),p=n(12),b=n(34),O=function(e){return{type:"LOGIN_SUCCESS",user:e.user}},m=function(e){return{type:"NOTES_FETCH_SUCCESS",notes:e}},f=n(181),g=n.n(f),x=n(331),v=n(332),C=n(328),S=n(333),y=n(330),N=n(329),E=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){},r.handleChange=function(e){r.setState(Object(b.a)({},e.target.name,e.target.value))},r.handleSubmit=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r.state)};fetch("https://afternoon-harbor-70437.herokuapp.com/auth",e).then((function(e){return e.json()})).then((function(e){e.error?r.setState({error:e.error}):(localStorage.setItem("jwt",e.user.token),r.props.currentUser(e),r.props.notes(e.notes),r.props.history.push("/todos"),r.setState({isLoading:!0}))}))},r.state={username:"",password:"",error:!1,isLoading:!1},r}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsx)(r.Fragment,{children:this.state.isLoading?Object(r.jsx)(g.a,{type:"cubes",color:"blue",height:667,width:375}):Object(r.jsx)(x.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(r.jsxs)(x.a.Column,{style:{maxWidth:450},children:[Object(r.jsx)(v.a,{as:"h2",color:"teal",textAlign:"center",children:"Log-in to your account"}),Object(r.jsx)(C.a,{size:"large",onSubmit:this.handleSubmit,error:"false",children:Object(r.jsxs)(S.a,{stacked:!0,children:[Object(r.jsx)(C.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"username",name:"username",onChange:function(t){e.handleChange(t)},error:this.state.error}),Object(r.jsx)(C.a.Input,{fluid:!0,icon:"lock",name:"password",iconPosition:"left",placeholder:"Password",type:"password",onChange:function(t){e.handleChange(t)},error:this.state.error}),Object(r.jsx)(y.a,{color:"teal",fluid:!0,size:"large",children:"Login"})]})}),Object(r.jsxs)(N.a,{children:["New to us? ",Object(r.jsx)("a",{href:"/sign-up",children:"Sign Up"})]})]})})})}}]),n}(o.a.Component),k={currentUser:O,notes:m},_=Object(p.b)(null,k)(E),T=n(84),w=n(326),U=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={errors:null,user:{first_name:"",last_name:"",username:"",password:"",email:"",bio:""}},e.handleChange=function(t){e.setState({user:Object(T.a)(Object(T.a)({},e.state.user),{},Object(b.a)({},t.target.name,t.target.value))})},e.handleSubmit=function(){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state)};fetch("https://afternoon-harbor-70437.herokuapp.com/users",t).then((function(e){return e.json()})).then((function(t){t.error?(console.log(t.error),e.setState({errors:t.error}),e.props.history.push("/sign-up")):(localStorage.setItem("jwt",t.user.token),e.props.currentUser(t),e.props.notes(t.notes),e.props.history.push("/todos"))}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsx)(x.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(r.jsxs)(x.a.Column,{style:{maxWidth:450},children:[Object(r.jsx)(v.a,{as:"h2",color:"teal",textAlign:"center",children:"Sign-up to use App"}),Object(r.jsx)(C.a,{size:"large",onSubmit:this.handleSubmit,children:Object(r.jsxs)(S.a,{stacked:!0,children:[Object(r.jsx)(C.a.Input,{fluid:!0,name:"first_name",icon:"user",iconPosition:"left",placeholder:"First Name",onChange:function(t){e.handleChange(t)}}),Object(r.jsx)(C.a.Input,{fluid:!0,name:"last_name",icon:"user",iconPosition:"left",placeholder:"Last Name",onChange:function(t){e.handleChange(t)}}),Object(r.jsx)(C.a.Input,{fluid:!0,name:"username",icon:"user",iconPosition:"left",placeholder:"Username",onChange:function(t){e.handleChange(t)}}),Object(r.jsx)(C.a.Input,{fluid:!0,icon:"mail",name:"email",iconPosition:"left",placeholder:"E-mail address",onChange:function(t){e.handleChange(t)}}),Object(r.jsx)(C.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",name:"password",type:"password",onChange:function(t){e.handleChange(t)}}),Object(r.jsx)(w.a,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Tell us about yourself",name:"bio",onChange:function(t){e.handleChange(t)}}),Object(r.jsx)(y.a,{color:"teal",fluid:!0,size:"large",children:"Sign-up"})]})}),Object(r.jsxs)(N.a,{children:["Back to Login? ",Object(r.jsx)("a",{href:"/login",children:"Login"})]}),this.state.errors?this.state.errors.map((function(e){return A++,Object(r.jsx)(N.a,{error:!0,content:e},A)})):null]})})}}]),n}(o.a.Component),A=0,L={currentUser:O,notes:m},I=Object(p.b)(null,L)(U),P=n(67),z=n(327),D=n(124),H=n.n(D),W=(n(175),n(176),[{key:"whatever",text:"Whatever",value:"whatever"},{key:"work",text:"Work",value:"work"},{key:"just cuz",text:"Just cuz",value:"just cuz"},{key:"fun",text:"Fun",value:"fun"}]),F=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r.state)};fetch("https://afternoon-harbor-70437.herokuapp.com/".concat(r.state.id),t).then((function(e){return e.json()})).then((function(e){r.props.updateNote(e),r.props.history.goBack()}))},r.rteChange=function(e,t,n,a){var o=a.getHTML();r.setState({description:o})},r.handleChange=function(e){r.setState(Object(b.a)({},e.target.name,e.target.value))},r.handleChangeSelection=function(e,t){var n=t.value;return r.setState({category:n})},r.modules={toolbar:[[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],[{color:[]},{background:[]}],["clean"]]},r.formats=["font","size","bold","italic","underline","list","bullet","align","color","background"],r.rteChange=r.rteChange.bind(Object(P.a)(r)),r.filteredNote=r.props.note.find((function(e){return e.id===parseInt(r.props.match.params.id)})),r.state={id:r.filteredNote.id,title:r.filteredNote.title,description:r.filteredNote.description,completed:r.filteredNote.completed,due_date:r.filteredNote.due_date,category:{}},r}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)(x.a,{textAlign:"center",style:{height:"50vh"},verticalAlign:"middle",children:Object(r.jsx)(x.a.Column,{style:{maxWidth:450},children:Object(r.jsx)(S.a,{stacked:!0,children:Object(r.jsxs)(C.a,{onSubmit:this.handleSubmit,size:"large",children:[Object(r.jsx)(C.a.Field,{label:"Title",value:this.state.title,control:"input",placeholder:"Add title here",onChange:this.handleChange,name:"title"}),Object(r.jsx)(H.a,{label:"Description",theme:"snow",modules:this.modules,formats:this.formats,onChange:this.rteChange,value:this.state.description}),Object(r.jsx)(z.a,{placeholder:"Category",fluid:!0,search:!0,selection:!0,options:W,onChange:this.handleChangeSelection}),Object(r.jsx)("input",{type:"date",name:"due_date",id:"date",onChange:this.handleChange}),Object(r.jsx)(y.a,{color:"teal",fluid:!0,size:"large",type:"submit",onClick:this.handleClick,children:"Edit"})]})})})})})}}]),n}(a.Component),J={updateNote:function(e){return{type:"UPDATE_NOTE_SUCCESS",note:e}},currentUser:O,notes:m},M=Object(p.b)((function(e){return{note:e.notes}}),J)(F),R=[{key:"whatever",text:"whatever",value:"whatever"},{key:"work",text:"Work",value:"work"},{key:"just cuz",text:"Just cuz",value:"just cuz"},{key:"fun",text:"Fun",value:"fun"}],B=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).rteChange=function(e,t,n,a){var o=a.getHTML();r.setState({description:o})},r.handleChange=function(e){r.setState(Object(b.a)({},e.target.name,e.target.value))},r.handleSubmit=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r.state)};fetch("https://afternoon-harbor-70437.herokuapp.com/notes",e).then((function(e){return e.json()})).then((function(e){r.props.newNote(e),r.props.history.push("/todos")}))},r.handleChangeSelection=function(e,t){var n=t.value;return r.setState({category:n})},r.state={title:"",description:"",completed:!1,user_id:r.props.user,category:"",due_date:""},r.modules={toolbar:[[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],[{color:[]},{background:[]}],["clean"]]},r.formats=["font","size","bold","italic","underline","list","bullet","align","color","background"],r.rteChange=r.rteChange.bind(Object(P.a)(r)),r}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.category;return Object(r.jsx)("div",{children:Object(r.jsx)(x.a,{textAlign:"center",style:{height:"50vh"},verticalAlign:"middle",children:Object(r.jsx)(x.a.Column,{style:{maxWidth:450},children:Object(r.jsx)(S.a,{stacked:!0,children:Object(r.jsxs)(C.a,{onSubmit:this.handleSubmit,size:"large",children:[Object(r.jsx)(C.a.Field,{control:"input",placeholder:"Add title here",onChange:this.handleChange,name:"title"}),Object(r.jsx)(H.a,{theme:"snow",modules:this.modules,formats:this.formats,onChange:this.rteChange,value:this.state.description||"",placeholder:"Add your description here"}),Object(r.jsx)("br",{}),Object(r.jsx)(z.a,{placeholder:"Category",fluid:!0,search:!0,selection:!0,options:R,value:e,onChange:this.handleChangeSelection}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"date",name:"due_date",id:"date",onChange:this.handleChange}),Object(r.jsx)(y.a,{color:"teal",fluid:!0,size:"large",type:"submit",children:"Add new note"})]})})})})})}}]),n}(a.Component),G={newNote:function(e){return{type:"NEW_NOTE_SUCCESS",note:e}}},X=Object(p.b)((function(e){return{user:e.currentUser.id}}),G)(B),V=n(183),Z=n.n(V),q=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var r;Object(c.a)(this,n),(r=t.call(this,e)).handleEdit=function(){var e=r.props.note.id;r.props.history.push("/todos/edit/".concat(e))},r.handleDelete=function(){var e=r.props.note.id;fetch("https://afternoon-harbor-70437.herokuapp.com/".concat(e),{method:"DELETE"}).then((function(t){r.props.delete(e)}))},r.handleCompletedTodo=function(){var e=r.state.id,t=Object(T.a)(Object(T.a)({},r.state),{},{completed:!r.state.completed}),n={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://afternoon-harbor-70437.herokuapp.com/".concat(e),n).then((function(e){return e.json()})).then((function(e){var t=e.id,n=e.title,a=e.description,o=e.completed;r.setState({id:t,title:n,description:a,completed:o})}))};var a=r.props.note,o=a.id,i=a.title,s=a.description,l=a.completed;return r.state={id:o,title:i,description:s,completed:l},r}return Object(l.a)(n,[{key:"render",value:function(){var e=Z()("".concat(this.props.note.created_at)).fromNow(),t=this.state,n=t.title,a=t.description,o=t.completed;return Object(r.jsxs)("div",{className:"ui raised card",children:[Object(r.jsx)("div",{className:o?"ui bottom aligned active inverted dimmer":"ui bottom aligned  dimmer",children:Object(r.jsx)("div",{className:"content",children:Object(r.jsxs)("div",{className:"ui animated fade  secondary button",color:"red",children:[Object(r.jsx)("div",{className:"visible content",children:"Changed my mind not completed"}),Object(r.jsx)("div",{className:"hidden content",onClick:this.handleCompletedTodo,children:Object(r.jsx)("i",{className:"calendar times icon"})})]})})}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("div",{className:"meta",children:e}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{className:"header",children:n}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:a}})]}),Object(r.jsxs)("div",{className:"extra content",children:[Object(r.jsx)("i",{className:"check icon"}),"Due: ",this.props.note.due_date,Object(r.jsxs)("div",{className:"right floated author",children:[Object(r.jsx)("i",{className:"user circle icon"}),this.props.name.name]})]}),Object(r.jsxs)("div",{className:"ui two buttons",children:[Object(r.jsx)("div",{className:"ui basic green button",onClick:this.handleEdit,children:"EDIT"}),Object(r.jsx)("div",{className:"ui basic red button",onClick:this.handleDelete,children:"DELETE"})]}),Object(r.jsxs)("div",{className:"ui bottom attached button",onClick:this.handleCompletedTodo,children:["COMPLETED",Object(r.jsx)("div",{className:"right floated author",children:Object(r.jsx)("i",{className:"calendar check icon"})})]})]})}}]),n}(o.a.Component),K={delete:function(e){return{type:"NOTE_DELETE_SUCCESS",id:e}}},Q=Object(p.b)(null,K)(Object(j.g)(q)),Y=(n(311),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsx)(r.Fragment,{children:this.props.notes&&this.props.notes.length>0?Object(r.jsx)("div",{className:"ui four doubling  cards",children:this.props.notes.map((function(t){return Object(r.jsx)(Q,{note:t,name:e.props.user},t.id)}))}):Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"child",children:Object(r.jsx)("h1",{children:"Nothing to display"})})})})}}]),n}(a.Component)),$=Object(p.b)((function(e){return{notes:e.notes,user:e.currentUser}}),null)(Y),ee=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleChange=function(t){e.props.search(t.target.value.toLowerCase())},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"ui secondary menu",children:[Object(r.jsx)(h.b,{to:"/todos",className:"item",children:"HOME"}),Object(r.jsx)(h.b,{to:"/todos/new",className:"item",children:"NEW NOTE"}),Object(r.jsx)(z.a,{text:"Sort by",className:"item",children:Object(r.jsxs)(z.a.Menu,{children:[Object(r.jsx)(z.a.Item,{text:"A - Z",onClick:function(){e.props.sort("title")}}),Object(r.jsx)(z.a.Item,{text:"Z - A",onClick:function(){e.props.sort("title","desc")}})]})}),Object(r.jsxs)("div",{className:"right menu",children:[Object(r.jsx)("div",{className:"item",children:Object(r.jsxs)("div",{className:"ui icon input",children:[Object(r.jsx)("input",{type:"text",placeholder:"Search...",onChange:this.handleChange}),Object(r.jsx)("i",{className:"search link icon"})]})}),Object(r.jsx)(h.b,{to:"/login",className:"ui item",onClick:function(){localStorage.removeItem("jwt")},children:"LOGOUT"})]})]})}}]),n}(a.Component),te={sort:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return{type:"SORT_NOTES_SUCCESS",key:e,option:t}},search:function(e){return{type:"SEARCH_NOTES_SUCCESS",input:e}}},ne=Object(p.b)(null,te)(Object(j.g)(ee)),re=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(ne,{}),Object(r.jsx)($,{})]})}}]),n}(a.Component),ae=Object(p.b)(null,null)(re),oe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("jwt");if(t){var n={method:"GET",headers:{Authorization:"Bearer ".concat(t)}};fetch("https://afternoon-harbor-70437.herokuapp.com/current_user",n).then((function(e){return e.json()})).then((function(t){console.log(t),e.props.currentUser(t),e.props.notes(t.notes),e.props.history.push("/todos")}))}else this.props.history.push("/login")}},{key:"render",value:function(){return Object(r.jsx)("div",{id:"test",children:Object(r.jsx)(h.a,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(j.a,{to:"/login"})}}),Object(r.jsx)(j.b,{path:"/login",component:_}),Object(r.jsx)(j.b,{path:"/sign-up",component:I}),Object(r.jsx)(j.b,{exact:!0,path:"/todos",component:ae}),Object(r.jsx)(j.b,{exact:!0,path:"/todos/edit/:id",component:M}),Object(r.jsx)(j.b,{exact:!0,path:"/todos/new",component:X})]})})})}}]),n}(a.Component),ie={currentUser:O,notes:m},se=Object(p.b)(null,ie)(Object(j.g)(oe)),ce=(n(312),n(68)),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return t.user;default:return e}},de=n(133),ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(n,r){if(!n.hasOwnProperty(e)||!r.hasOwnProperty(e))return 0;var a="string"===typeof n[e]?n[e].toUpperCase():n[e],o="string"===typeof r[e]?r[e].toUpperCase():r[e],i=0;return a>o?i=1:a<o&&(i=-1),"desc"===t?-1*i:i}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTES_FETCH_SUCCESS":return t.notes;case"UPDATE_NOTE_SUCCESS":return e.map((function(e){return e.id===t.note.id?t.note:e}));case"NOTE_DELETE_SUCCESS":return e.filter((function(e){return e.id!==t.id}));case"NEW_NOTE_SUCCESS":return[].concat(Object(de.a)(e),[t.note]);case"SORT_NOTES_SUCCESS":return Object(de.a)(e.sort(ue(t.key,t.option)));case"SEARCH_NOTES_SUCCESS":return Object(de.a)(e.filter((function(e){return e.title.toLowerCase().includes(t.input)||e.description.toLowerCase().includes(t.input)})));default:return e}},je=Object(ce.b)({currentUser:le,notes:he}),pe=Object(ce.c)(je,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(r.jsx)(p.a,{store:pe,children:Object(r.jsx)(h.a,{children:Object(r.jsx)(se,{})})}),document.getElementById("root"))}},[[313,1,2]]]);
//# sourceMappingURL=main.19683f57.chunk.js.map